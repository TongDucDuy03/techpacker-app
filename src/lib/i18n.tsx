import React, { createContext, useContext, useEffect, useMemo, useState } from 'react';

export type LanguageCode = 'en' | 'vi';

type TranslationDict = Record<string, string>;

const translations: Record<LanguageCode, TranslationDict> = {
  en: {
    'nav.dashboard': 'Dashboard',
    'nav.techpacks': 'Tech Packs',
    'nav.measurements': 'Measurements',
    'nav.materials': 'Materials',
    'nav.colorways': 'Colorways',
    'nav.analytics': 'Analytics',
    'nav.team': 'Team',
    'nav.settings': 'Settings',

    'chip.productionReady': 'Production Ready',

    'form.basicInfo': 'Basic Info',
    'form.materials': 'Materials',
    'form.measurements': 'Measurements',
    'form.colorways': 'Colorways',
    'form.construction': 'Construction',

    'form.productName': 'Product Name',
    'form.category': 'Category',
    'form.brand': 'Brand',
    'form.designer': 'Designer',
    'form.season': 'Season',
    'form.status': 'Status',
    'form.season.placeholder': 'e.g., Spring 2024',

    'form.saveMaterialsToLibrary': 'Save new materials to library',
    'form.saveMeasurementsToLibrary': 'Save current points as template',
    'form.saveColorwaysToLibrary': 'Save new colorways to library',
    'form.saveMaterialsToLibrary.footer': 'Save materials to library',
    'form.saveMeasurementsToLibrary.footer': 'Save measurements template',
    'form.saveColorwaysToLibrary.footer': 'Save colorways to library',

    'form.createTechPack': 'Create Tech Pack',
    'form.updateTechPack': 'Update Tech Pack',
    'techpack.updateSuccess': 'Tech pack updated successfully!',
    'form.createNewTechPackTitle': 'Create New Tech Pack',
    'form.editTechPackTitle': 'Edit Tech Pack',
    'form.cancel': 'Cancel',

    'materials.bom': 'Bill of Materials',
    'materials.addRow': 'Add Row',
    'materials.addFromLibrary': 'Add from library…',
    'materials.applyTemplate': 'Apply template…',
    'measurements.add': 'Add Measurement',
    'colorways.add': 'Add Colorway',
    'actions.add': 'Add',
    'actions.remove': 'Remove',
    'actions.removeColorway': 'Remove Colorway',
    'actions.apply': 'Apply',

    // Materials table headers
    'materials.header.stt': 'No.',
    'materials.header.specifications': 'Specifications',
    'materials.header.position': 'Position',
    'materials.header.quantity': 'Quantity',
    'materials.header.unit': 'Unit',
    'materials.header.notes': 'Technical notes',
    'materials.header.submaterials': 'Sub-materials',

    // Materials fields placeholders
    'materials.placeholder.specifications': 'Specifications',
    'materials.placeholder.name': 'Material Name',
    'materials.placeholder.composition': 'Composition',
    'materials.placeholder.supplier': 'Supplier',
    'materials.placeholder.color': 'Color',
    'materials.placeholder.consumption': 'Consumption',
    'materials.placeholder.position': 'Position',
    'materials.placeholder.qty': 'Qty',
    'materials.placeholder.unit': 'Unit',
    'materials.placeholder.notes': 'Technical notes',
    'materials.addSubMaterial': 'Add sub-material',

    // Measurements
    'measurements.header.point': 'Measurement Point',
    'measurements.header.tolerance': 'Tolerance (e.g., ±0.5cm)',
    'measurements.placeholder.size': 'Size',

    // Colorways
    'colorways.placeholder.name': 'Colorway Name',
    'colorways.placeholder.part': 'Part',
    'colorways.placeholder.color': 'Color',
    'colorways.placeholder.pantone': 'Pantone (optional)',

    // Construction
    'construction.placeholder.detail': 'Construction detail',

    // TechPackList
    'tpl.header.title': 'Tech Pack Management',
    'tpl.header.subtitle': 'Manage your fashion technical packages',
    'tpl.new': 'New Tech Pack',
    'tpl.search.placeholder': 'Search tech packs...',
    'tpl.filter.status.all': 'All Status',
    'tpl.filter.status.draft': 'Draft',
    'tpl.filter.status.review': 'Under Review',
    'tpl.filter.status.approved': 'Approved',
    'tpl.filter.status.production': 'Production',
    'tpl.filter.category.all': 'All Categories',
    'tpl.filter.more': 'More Filters',
    'tpl.card.view': 'View',
    'tpl.empty.title': 'No tech packs found',
    'tpl.empty.subtitle': 'Try adjusting your search or filter criteria',
    'tpl.empty.cta': 'Create Your First Tech Pack',

    // Dashboard
    'dash.stat.total': 'Total Tech Packs',
    'dash.stat.production': 'In Production',
    'dash.stat.review': 'Under Review',
    'dash.stat.approved': 'Approved',
    'dash.recent.techpacks': 'Recent Tech Packs',
    'dash.recent.activity': 'Recent Activity',
    'dash.recent.activity.empty': 'No recent activity yet.',
    'dash.alerts.title': 'Alerts & Notifications',
    'dash.alerts.pendingReview.suffix': 'has been pending review for 5 days',
    'dash.alerts.seasonDeadline.prefix': 'Season deadline approaching:',
    'dash.alerts.seasonDeadline.suffix': 'due in 2 weeks',

    // Materials Library
    'matlib.title': 'Materials Library',
    'matlib.hint': 'Set VITE_API_BASE_URL to enable Mongo-backed library.',
    'matlib.form.name': 'Name',
    'matlib.form.composition': 'Composition',
    'matlib.form.supplier': 'Supplier',
    'matlib.form.color': 'Color',
    'matlib.form.consumption': 'Consumption',
    'matlib.btn.add': 'Add',
    'matlib.btn.update': 'Update',
    'matlib.btn.edit': 'Edit',
    'matlib.btn.delete': 'Delete',
    'matlib.empty': 'No materials yet.',

    // Measurements Management
    'measmgmt.title': 'Measurements Management',
    'measmgmt.hint': 'Set VITE_API_BASE_URL to enable Mongo-backed templates.',
    'measmgmt.form.templateName': 'Template name',
    'measmgmt.form.point': 'Point',
    'measmgmt.form.tolerance': 'Tolerance',
    'measmgmt.btn.addPoint': 'Add point',
    'measmgmt.pointsCount': '{n} points',
    'measmgmt.btn.create': 'Create template',
    'measmgmt.btn.update': 'Update template',
    // legacy keys (kept for backward-compat paths)
    'legacy.common.edit': 'Edit',
    'legacy.common.delete': 'Delete',
    'measmgmt.empty': 'No templates yet.',

    // Colorways Management
    'colormgmt.title': 'Colorways Management',
    'colormgmt.hint': 'Set VITE_API_BASE_URL to enable Mongo-backed colorways.',
    'colormgmt.form.name': 'Colorway name',
    'colormgmt.form.part': 'Part',
    'colormgmt.form.color': 'Color',
    'colormgmt.form.pantone': 'Pantone (optional)',
    'colormgmt.btn.addColor': 'Add color',
    'colormgmt.colorsCount': '{n} colors',
    'colormgmt.btn.create': 'Create colorway',
    'colormgmt.btn.update': 'Update colorway',
    'colormgmt.empty': 'No colorways yet.',

    // Sample measurement rounds
    'sample.requestedSource': 'Requested Source',
    'sample.originalSpec': 'Original Spec',
    'sample.fromPrevious': 'From Previous Round',
    'sample.round': 'Sample Round',
    'sample.date': 'Date',
    'sample.reviewer': 'Reviewer',
    'sample.requested': 'Requested',
    'sample.measured': 'Measured',
    'sample.diff': 'Diff',
    'sample.revised': 'Revised',
    'sample.comments': 'Comments',
    'sample.id': 'ID',
    'sample.point': 'Point',
    'sample.pomCode': 'POM Code',
    'sample.pomName': 'POM Name',
    'sample.measurementId': 'Measurement ID',
    'sample.removeRoundAria': 'Remove sample round',

    // Common
    'common.language': 'Language',
    'common.language.english': 'English',
    'common.language.vietnamese': 'Tiếng Việt',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.view': 'View',
    'common.create': 'Create',
    'common.update': 'Update',
    'common.add': 'Add',
    'common.back': 'Back',
    'common.next': 'Next',
    'common.previous': 'Previous',
    'common.search': 'Search',
    'common.filter': 'Filter',
    'common.clear': 'Clear',
    'common.apply': 'Apply',
    'common.close': 'Close',
    'common.confirm': 'Confirm',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.remove': 'Remove',
    'common.actions': 'Actions',
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.warning': 'Warning',
    'common.info': 'Info',

    // App specific
    'app.title': 'TechPacker Pro',
    'app.techPacks': 'Tech Packs',
    'app.createNew': 'Create New',
    'app.adminPanel': 'Admin Panel',
    'app.logout': 'Logout',
    'app.profile': 'Profile',
    'app.notFound': 'Not Found',
    'app.techPackNotFound': 'Tech pack not found',
    'app.backToList': 'Back to List',

    // Tech Pack List
    'techpack.list.title': 'Article Name',
    'techpack.list.articleCode': 'Article Code',
    'techpack.list.status': 'Status',
    'techpack.list.season': 'Season',
    'techpack.list.createdDate': 'Created Date',
    'techpack.list.lastUpdated': 'Last Updated',
    'techpack.list.actions': 'Actions',
    'techpack.list.action.view': 'View',
    'techpack.list.action.edit': 'Edit',
    'techpack.list.action.delete': 'Delete',
    'techpack.list.deleteConfirm': 'Are you sure you want to delete this tech pack?',
    'techpack.list.deleteSuccess': 'Tech Pack deleted successfully',
    'techpack.list.noDescription': 'No description',

    // Status labels
    'status.draft': 'Draft',
    'status.inReview': 'In Review',
    'status.approved': 'Approved',
    'status.rejected': 'Rejected',
    'status.archived': 'Archived',
    'status.production': 'Production',

    // Form Tabs
    'form.tab.articleInfo': 'Article Info',
    'form.tab.bom': 'Bill of Materials',
    'form.tab.measurements': 'Measurements',
    'form.tab.colorways': 'Colorways',
    'form.tab.construction': 'Construction',
    'form.tab.sampleMeasurements': 'Sample Measurements',

    // Article Info fields
    'form.articleInfo.articleName': 'Article Name',
    'form.articleInfo.articleCode': 'Article Code',
    'form.articleInfo.supplier': 'Supplier',
    'form.articleInfo.season': 'Season',
    'form.articleInfo.technicalDesigner': 'Technical Designer',
    'form.articleInfo.status': 'Status',
    'form.articleInfo.category': 'Category',
    'form.articleInfo.gender': 'Gender',
    'form.articleInfo.brand': 'Brand',
    'form.articleInfo.fabricDescription': 'Fabric Description',
    'form.articleInfo.productDescription': 'Product Description',
    'form.articleInfo.designSketch': 'Design Sketch',
    'form.articleInfo.companyLogo': 'Company Logo',

    // BOM fields
    'form.bom.part': 'Part',
    'form.bom.materialName': 'Material Name',
    'form.bom.supplierCode': 'Supplier Code',
    'form.bom.placement': 'Placement',
    'form.bom.size': 'Size',
    'form.bom.quantity': 'Quantity',
    'form.bom.unit': 'Unit of Measure',
    'form.bom.supplier': 'Supplier',
    'form.bom.color': 'Color',
    'form.bom.notes': 'Notes',
    'form.bom.subMaterials': 'Sub-materials',
    'form.bom.addRow': 'Add Row',
    'form.bom.deleteRow': 'Delete Row',
    'form.bom.addFromLibrary': 'Add from Library',
    'form.bom.applyTemplate': 'Apply Template',
    'form.bom.import': 'Import',
    'form.bom.export': 'Export',
    'form.bom.material': 'Material',
    'form.bom.addMaterial': 'Add New Material',
    'form.bom.editMaterial': 'Edit Material',
    'form.bom.unitPrice': 'Unit Price',
    'form.bom.totalPrice': 'Total Price',
    'form.bom.colorCode': 'Color Code',
    'form.bom.materialComposition': 'Material Composition',
    'form.bom.comments': 'Comments',
    'form.bom.materialUpdated': 'Material updated successfully',
    'form.tab.articleInfo.description': 'Basic product information',
    'form.tab.bom.description': 'Materials and components',
    'form.tab.measurements.description': 'Size specifications',
    'form.tab.construction.description': 'Construction instructions',
    'form.tab.colorways.description': 'Color variations',
    'form.tab.packing': 'Packing',
    'form.tab.packing.description': 'Packing & folding instructions',
    'form.packing.title': 'Packing & Folding Guide',
    'form.packing.subtitle': 'Paste diagrams, photos, checklists, tables, or instructions exactly as you want them to appear in the PDF.',
    'form.packing.wordCount': '{count} words',
    'form.packing.charCount': '{count} characters',
    'form.packing.clear': 'Clear',
    'form.packing.placeholder': 'Drop in your packing workflow, folding diagrams, material breakdowns, QA checklist, carton labels, pallet layout, etc...',
    'form.packing.tipsTitle': 'Tips',
    'form.packing.tip1': 'Paste directly from Word, Excel, PDF, or any website. Formatting, tables, and bullet points will be preserved.',
    'form.packing.tip2': 'Use the image tool or paste inline images to illustrate folding steps, carton layouts, or labeling requirements.',
    'form.packing.tip3': 'Checklists can be created using the checklist button or bullet lists.',
    'form.packing.tip4': 'All content is embedded in the Techpack PDF exactly as shown here.',
    'form.tab.revisionHistory': 'Revision History',
    'form.tab.revisionHistory.description': 'Change tracking',
    'form.revision.subtitle': 'Track changes and revert to previous versions of your TechPack',
    'form.revision.emptyTitle': 'No Revisions Yet',
    'form.revision.emptyDescription': 'Revisions will appear here after you save your first TechPack.',
    'form.revision.count': '{{count}} revision{{count !== 1 ? "s" : ""}}',
    'form.revision.searchPlaceholder': 'Search revisions...',
    'form.revision.filterByType': 'Filter by type',
    'form.revision.type.auto': 'Auto',
    'form.revision.type.manual': 'Manual',
    'form.revision.type.approval': 'Approval',
    'form.revision.type.rollback': 'Rollback',
    'form.revision.emptyList': 'No revisions found',
    'form.revision.loadError': 'Failed to load revisions',
    'form.revision.selectPrompt': 'Select a revision to view details',
    'form.revision.current': 'Current',
    'form.revision.noDescription': 'No description',
    'form.revision.unknownUser': 'Unknown',
    'form.sharing.cannotShareAdminOrDesigner': 'Cannot share with system admin or the assigned technical designer.',
    'form.sharing.title': 'Sharing & Access Control',
    'form.sharing.subtitle': 'Manage who can view or edit this Tech Pack.',
    'form.sharing.notAvailableTitle': 'Sharing is not available yet',
    'form.sharing.notAvailableDescription': 'Please save the Tech Pack first to enable sharing options.',
    'form.sharing.viewOnlyTitle': 'You have view-only access to this TechPack',
    'form.sharing.viewOnlyViewer': 'You can view all content but cannot make changes or manage sharing.',
    'form.sharing.viewOnlyEditor': 'You can edit content but cannot manage sharing settings.',
    'form.sharing.viewOnlyOther': 'Only the owner or administrators can manage sharing for this TechPack.',
    'form.sharing.currentRoleLabel': 'Your current role:',
    'form.sharing.noAccess': 'No access',
    'form.sharing.loading': 'Loading Sharing Settings...',
    'form.sharing.grantTitle': 'Grant Access to a User',
    'form.sharing.userLabel': 'User',
    'form.sharing.userPlaceholder': 'Select a user...',
    'form.sharing.noUsersOption': 'No users available to share',
    'form.sharing.roleLabel': 'Role',
    'form.sharing.adding': 'Adding...',
    'form.sharing.addUser': 'Add User',
    'form.sharing.noUsersTitle': 'No users available to share with.',
    'form.sharing.noUsersReasonTitle': 'This could be because:',
    'form.sharing.noUsersReason1': 'All users have already been shared with this TechPack',
    'form.sharing.noUsersReason2': 'There are no other users in the system',
    'form.sharing.noUsersReason3': 'All users are either admins or the technical designer',
    'form.sharing.debugTitle': 'Debug Info:',
    'form.sharing.availableUsers': '{{count}} user{{count !== 1 ? "s" : ""}} available to share with.',
    'form.sharing.currentlySharedTitle': 'Currently Shared With ({{count}})',
    'form.sharing.table.user': 'User',
    'form.sharing.table.role': 'Role',
    'form.sharing.table.sharedBy': 'Shared By',
    'form.sharing.table.dateShared': 'Date Shared',
    'form.sharing.unknownUser': 'Unknown',
    'form.sharing.notAvailable': 'N/A',
    'form.sharing.emptyAccessList': 'This Tech Pack has not been shared with anyone yet.',
    'form.sharing.loadError': 'Failed to load sharing information.',
    'form.sharing.accessGranted': 'Access granted successfully.',
    'form.sharing.grantFailed': 'Failed to grant access.',
    'form.sharing.roleUpdated': 'Role updated successfully.',
    'form.sharing.updateRoleFailed': 'Failed to update role.',
    'form.sharing.confirmRevoke': 'Are you sure you want to remove access for {{userName}}?',
    'form.sharing.accessRevoked': 'Access removed successfully.',
    'form.sharing.revokeFailed': 'Failed to remove access.',
    'admin.accessDenied.title': 'Access Denied',
    'admin.accessDenied.message': 'You do not have permission to view this page.',
    'admin.menu.title': 'Admin Menu',
    'admin.menu.users': 'User Management',
    'admin.users.title': 'User Management',
    'admin.users.subtitle': 'Administer users and roles',
    'admin.users.addNew': 'Add New User',
    'admin.users.allUsers': 'All Users',
    'admin.users.searchPlaceholder': 'Search by name or email',
    'admin.users.filterByRole': 'Filter by role',
    'admin.users.fetchError': 'Failed to fetch users',
    'admin.users.na': 'N/A',
    'admin.users.columns.name': 'Name',
    'admin.users.columns.email': 'Email',
    'admin.users.columns.role': 'Role',
    'admin.users.columns.createdAt': 'Created At',
    'admin.users.columns.lastLogin': 'Last Login',
    'admin.users.stats.totalUsers': 'Total Users',
    'admin.users.stats.mostCommonRole': 'Most Common Role',
    'admin.users.stats.newUsers': 'New Users (Last 7 Days)',
    'admin.users.stats.na': 'N/A',
    'admin.users.delete.title': 'Are you sure you want to delete this user?',
    'admin.users.delete.content': '{{name}} will be permanently deleted.',
    'admin.users.delete.ok': 'Yes, Delete',
    'admin.users.delete.success': 'User deleted successfully',
    'admin.users.delete.error': 'Failed to delete user',
    'admin.users.twoFactor.enabled': 'Two-factor authentication enabled for {{email}}',
    'admin.users.twoFactor.disabled': 'Two-factor authentication disabled for {{email}}',
    'admin.users.twoFactor.error': 'Failed to update 2FA for {{email}}',
    'admin.users.roles.admin': 'Admin',
    'admin.users.roles.designer': 'Designer',
    'admin.users.roles.merchandiser': 'Merchandiser',
    'admin.users.roles.viewer': 'Viewer',
    'form.unsavedChanges.title': 'Exit without saving?',
    'form.unsavedChanges.content': 'Do you want to exit without saving changes?',
    'form.unsavedChanges.okText': 'Exit',
    'form.unsavedChanges.cancelText': 'Continue editing',
    'form.unsavedChanges.label': 'Unsaved changes',
    'form.newTechPack': 'New Tech Pack',
    'form.noArticleCode': 'No Article Code',
    'form.version': 'Version',
    'form.progress': 'Progress',
    'form.saving': 'Saving...',
    'form.saved': 'Saved',
    'form.readOnlyMode': 'Read Only Mode',
    'form.exportingPDF': 'Exporting PDF...',
    'form.exportPDF': 'Export PDF',
    'form.cannotDisplayImage': 'Cannot display image',
    'form.cannotDisplayLogo': 'Cannot display logo',
    'form.removeImage': 'Remove image',
    'form.removeLogo': 'Remove logo',
    'form.designSketchUploaded': 'Design sketch uploaded successfully',
    'form.logoUploaded': 'Logo uploaded successfully',
    'form.replaceImage': 'Replace image',
    'form.replaceLogo': 'Replace logo',
    'form.uploadDesignSketch': 'Upload a design sketch',
    'form.uploadDesignSketchRequired': 'Upload a design sketch image (required)',
    'form.uploadCompanyLogo': 'Upload a company logo',
    'form.uploading': 'Uploading...',
    'form.uploadingLogo': 'Uploading logo...',
    'form.orDragAndDrop': 'or drag and drop',
    'form.imageUploadHint': 'PNG, JPG, GIF, SVG up to 5MB',
    'form.uploadImage': 'Upload image',
      'form.companyLogoUploadHint': 'PNG, JPG, GIF, SVG up to 5MB. We\'ll auto-resize to fit PDF headers.',
    'form.companyLogoHint': 'used on every PDF page',
    'form.companyLogoRecommendation': 'Recommended: horizontal logo with transparent background. Logo will appear on the cover and every PDF page.',
    'form.articleInfo.notes': 'Notes',
    'form.articleInfo.notesPlaceholder': 'Additional notes or special instructions...',
    'form.systemInformation': 'System Information (Read-only)',
    'form.created': 'Created',
    'form.lastModified': 'Last Modified',
    'form.by': 'by',
    'form.saveDraft': 'Save',
    'form.next': 'Next',
    'form.preview': 'Preview',
    'form.preview.class': 'Class',
    'form.preview.fit': 'Fit',
    'form.preview.stage': 'Stage',
    'form.preview.supplier': 'Supplier',
    'form.preview.fabric': 'Fabric',
    'form.preview.description': 'Description',
    'form.preview.designer': 'Designer',
    'form.preview.notAssigned': 'Not assigned',
    'form.bom.items': 'Items',
    'form.bom.suppliers': 'Suppliers',
    'form.bom.searchPlaceholder': 'Search materials...',
    'form.bom.allParts': 'All Parts',
    'form.bom.materialImage': 'Material Image (upload)',
    'form.bom.uploadImage': 'Upload Image',
    'form.bom.removeImage': 'Remove Image',
    'form.bom.noImage': 'No image',
    'form.bom.uploadingImage': 'Uploading image...',
    'form.bom.imagePath': 'Image Path',
    'form.bom.preview': 'Preview',
    'form.bom.fixErrors': 'Please fix the following errors:',

    // Measurements Tab
    'form.measurement.title': 'Measurement Chart',
    'form.measurement.subtitle': 'Define measurement points and size specifications',
    'form.measurement.points': 'Points',
    'form.measurement.sizes': 'Sizes',
    'form.measurement.sizeRangeTitle': 'Size Range Configuration',
    'form.measurement.sizeRangeDescription': 'Manage custom sizes per techpack. Gender default: {gender}',
    'form.measurement.unisex': 'Unisex',
    'form.measurement.preset': 'Preset:',
    'form.measurement.applyPreset': 'Apply',
    'form.measurement.noSizesConfigured': 'No sizes configured yet.',
    'form.measurement.removeSizeAria': 'Remove size {size}',
    'form.measurement.baseSizeLabel': 'Base Size',
    'form.measurement.baseSizeHint': 'Base size drives the highlighted column, measurement jumps, and PDF export. Changing it updates every measurement point.',
    'form.measurement.unitLabel': 'Measurement Unit',
    'form.measurement.unitHint': 'Unit applies to all measurements in this techpack. Changing it updates all measurement values.',
    'form.measurement.newSizePlaceholder': 'e.g., 2, 4, 6, 4XL',
    'form.measurement.addSize': 'Add Size',
    'form.measurement.addCommonPoints': 'Add Common Points',
    'form.measurement.importExcel': 'Import Excel',
    'form.measurement.exportExcel': 'Export Excel',
    'form.measurement.addMeasurement': 'Add Measurement',
    'form.measurement.editPoint': 'Edit Measurement Point',
    'form.measurement.addPoint': 'Add New Measurement Point',
    'form.measurement.pomCodeLabel': 'POM Code *',
    'form.measurement.pomCodePlaceholder': 'e.g., CHEST, LENGTH',
    'form.measurement.pomCodeHelper': 'Uppercase letters, numbers, hyphens, underscores',
    'form.measurement.pomNameLabel': 'POM Name *',
    'form.measurement.pomNamePlaceholder': 'e.g., Chest 1 inch below armhole',
    'form.measurement.minusToleranceLabel': 'Minus Tolerance',
    'form.measurement.plusToleranceLabel': 'Plus Tolerance',
    'form.measurement.tolerancePlaceholder': 'e.g., 1.0',
    'form.measurement.toleranceHelper': 'Tolerance in {unit}',
    'form.measurement.methodLabel': 'Measurement Method',
    'form.measurement.methodPlaceholder': 'Brief description of how to measure',
    'form.measurement.baseAndJumpTitle': 'Base Size & Jump ({unit})',
    'form.measurement.selectAtLeastOneSize': 'Select at least one size',
    'form.measurement.baseSizeManagedHint': 'Managed in Size Range Configuration. Base size controls the highlighted column and jump calculations.',
    'form.measurement.baseMeasurementLabel': 'Base Measurement ({unit})',
    'form.measurement.baseMeasurementPlaceholder': 'e.g., 30',
    'form.measurement.baseBadge': 'Base',
    'form.measurement.sizeJumpLabel': '{size} Jump',
    'form.measurement.jumpPlaceholder': '+0.5 / +1/2 / -0.25',
    'form.measurement.actual': 'Actual:',
    'form.measurement.notesLabel': 'Notes',
    'form.measurement.notesPlaceholder': 'Additional notes or special instructions...',
    'form.measurement.measurement': 'Measurement',
    'form.measurement.pomCodeColumn': 'POM Code',
    'form.measurement.pomNameColumn': 'POM Name',
    'form.measurement.toleranceColumn': 'Tolerance',
    'form.measurement.noPoints': 'No measurement points defined. Add measurements to get started.',
    'form.measurement.sampleRoundsTitle': 'Sample Rounds',
    'form.measurement.sampleRoundsDescription': 'Record requested vs measured values for each prototype round',
    'form.measurement.completeCurrentRound': 'Please complete the current round before creating another.',
    'form.measurement.completePreviousRound': 'Please complete the previous round before creating a new round.',
    'form.measurement.addSampleRound': 'Add Sample Round',
    'form.measurement.roundNamePlaceholder': 'Round name',
    'form.measurement.saveRoundTitle': 'Save this round. Unfilled sizes will keep their original requested values.',
    'form.measurement.date': 'Date',
    'form.measurement.reviewer': 'Reviewer',
    'form.measurement.reviewerPlaceholder': 'Name',
    'form.measurement.requestedSourceLabel': 'Requested Source',
    'form.measurement.overallComments': 'Overall Comments',
    'form.measurement.overallCommentsPlaceholder': 'Summary of findings...',
    'form.measurement.addPointsForRounds': 'Add measurement points to start tracking sample rounds.',
    'form.measurement.noSampleRounds': 'No sample rounds yet. Click “Add Sample Round” to create the first round.',
    'form.measurement.createSampleRoundTitle': 'Create New Sample Round',
    'form.measurement.roundName': 'Round Name',
    'form.measurement.requestedSourceOriginal': 'Original Spec (from Measurement Chart)',
    'form.measurement.requestedSourcePrevious': 'From Previous Round (use Revised values from last round)',
    'form.measurement.requestedSourceHint': 'Available after creating the first round',
    'form.measurement.createRound': 'Create Round',
    'form.measurement.guidelinesTitle': 'Measurement Guidelines:',
    'form.measurement.guidelineUnit': 'All measurements use the same unit selected at the table level',
    'form.measurement.guidelineTolerance': 'Tolerance values follow the selected unit (e.g., 1.0 means ±1.0 {unit})',
    'form.measurement.guidelineConsistentTolerance': 'Use consistent tolerance values across similar measurement points',
    'form.measurement.guidelineZeroValues': 'Zero values are preserved - use empty field to indicate "not measured"',
    'form.measurement.guidelineCompleteRound': 'Complete all measurements in a round before creating a new round',
    'form.measurement.changeBaseSizeTitle': 'Change Base Size',
    'form.measurement.changeBaseSizeMessage': 'Change base size to {size}? This will update all related measurements and PDF exports.',
    'form.measurement.changeBaseSizeConfirm': 'Change Base Size',
    'form.measurement.changeBaseSizeCancel': 'Keep Current',
    'form.measurement.thisSize': 'this size',
    'form.measurement.previousRoundEditWarning': 'You cannot edit a previous round because it will affect subsequent rounds.',
    'form.measurement.enterBaseValue': 'Enter a value for the base size',
    'form.measurement.atLeastOneSizeRequired': 'At least one size is required.',
    'form.measurement.sizeLabelRequired': 'Please provide a size label before adding.',
    'form.measurement.sizeAlreadyExists': 'Size already exists in this range.',
    'form.measurement.applyEmptyPresetConfirm': 'Apply an empty preset and clear all configured sizes?',
    'form.measurement.applyPresetReplaceConfirm': 'Applying a preset will replace the current size range for this techpack. Continue?',
    'form.measurement.baseSizeRequired': 'Please select a base size',
    'form.measurement.baseSizeRequiredLong': 'Please select a base size for this measurement.',
    'form.measurement.atLeastOneMeasurement': 'At least one size measurement must be greater than 0',
    'form.measurement.enterBaseMeasurement': 'Enter the base measurement value',
    'form.measurement.baseMeasurementRequired': 'Base size measurement is required before saving.',
    'form.measurement.updated': 'Measurement updated successfully',
    'form.measurement.added': 'Measurement added successfully',
    'form.measurement.field.pomCode': 'POM Code',
    'form.measurement.field.pomName': 'POM Name',
    'form.measurement.field.minusTolerance': 'Minus Tolerance',
    'form.measurement.field.plusTolerance': 'Plus Tolerance',
    'form.measurement.field.sizes': 'Size Measurements',
    'form.measurement.common.chestName': 'Chest 1" below armhole',
    'form.measurement.common.chestMethod': 'Measure across chest 1 inch below armhole',
    'form.measurement.common.lengthName': 'Center Back Length',
    'form.measurement.common.lengthMethod': 'Measure from center back neck to hem',
    'form.measurement.common.sleeveName': 'Sleeve Length',
    'form.measurement.common.sleeveMethod': 'Measure from shoulder point to cuff',
    'form.measurement.common.shoulderName': 'Shoulder Width',
    'form.measurement.common.shoulderMethod': 'Measure from shoulder point to shoulder point',
    'form.measurement.common.waistName': 'Waist',
    'form.measurement.common.waistMethod': 'Measure at natural waistline',
    'form.measurement.commonAdded': 'Common measurements added',
    'form.measurement.duplicate': 'Duplicate',

    // Colorways fields
    'form.colorway.name': 'Colorway Name',
    'form.colorway.code': 'Code',
    'form.colorway.pantoneCode': 'Pantone Code',
    'form.colorway.hexColor': 'Hex Color',
    'form.colorway.rgbColor': 'RGB Color',
    'form.colorway.placement': 'Placement',
    'form.colorway.materialType': 'Material Type',
    'form.colorway.supplier': 'Supplier',
    'form.colorway.addColorway': 'Add Colorway',
    'form.colorway.deleteColorway': 'Delete Colorway',
    'form.colorway.addColorPart': 'Add Color Part',
    'form.colorway.subtitle': 'Manage color variations and Pantone specifications',
    'form.colorway.imageSubtitle': 'Upload an image to display',
    'form.colorway.imageLabel': 'Colorway Image',
    'form.colorway.changeImage': 'Change Image',
    'form.colorway.namePlaceholder': 'e.g., Navy Blazer',
    'form.colorway.codePlaceholder': 'e.g., NVY001',
    'form.colorway.editTitle': 'Edit Colorway',
    'form.colorway.addTitle': 'Add New Colorway',
    'form.colorway.emptyTitle': 'No colorways defined',
    'form.colorway.emptyDescription': 'Add colorways to define different color variations for this tech pack.',
    'form.colorway.untitled': 'Untitled colorway',
    'form.colorway.codeLabel': 'Code:',
    'form.colorway.duplicate': 'Duplicate',

    // Construction fields
    'form.construction.pomCode': 'POM Code',
    'form.construction.pomName': 'POM Name',
    'form.construction.description': 'Description',
    'form.construction.stepNumber': 'Step Number',
    'form.construction.instructions': 'Instructions',
    'form.construction.tips': 'Tips',
    'form.construction.commonMistakes': 'Common Mistakes',
    'form.construction.relatedMeasurements': 'Related Measurements',
    'form.construction.note': 'Note',
    'form.construction.addMeasurementPoint': 'Add Measurement Point',
    'form.construction.deleteMeasurementPoint': 'Delete Measurement Point',
    'form.construction.notePlaceholder': 'Additional notes or sewing instructions...',
    'form.construction.title': 'Construction',
    'form.construction.subtitle': 'Construction instructions and details',
    'form.construction.searchPlaceholder': 'Search constructions...',
    'form.construction.importCsv': 'Import CSV',
    'form.construction.exportCsv': 'Export CSV',
    'form.construction.add': 'Add Construction',
    'form.construction.validationSummary': '{count} construction(s) have validation errors. Please review before saving.',
    'form.construction.editTitle': 'Edit Construction',
    'form.construction.detailTitle': 'Detail Construction',
    'form.construction.imageLabel': 'Illustration Image',
    'form.construction.listTitle': 'Constructions List',
    'form.construction.imageColumn': 'Image',
    'form.construction.noteColumn': 'Note',
    'form.construction.empty': 'No constructions added yet. Click "Add Construction" to get started.',
    'form.construction.imageAlt': 'Construction image',
    'form.construction.noNote': 'No notes yet',
    'form.construction.duplicate': 'Duplicate',
    'form.construction.mapCsvTitle': 'Map CSV Columns to Construction Fields',
    'form.construction.mapCsvDescription': 'Map each CSV column to a Construction field. Leave unmapped if not needed.',
    'form.construction.notMapped': '-- Not mapped --',
    'form.construction.steps': 'Steps',
    'form.construction.imageUrl': 'Image URL',
    'form.construction.videoUrl': 'Video URL',
    'form.construction.language': 'Language',
    'form.construction.importPreviewTitle': 'Import Preview',
    'form.construction.downloadErrors': 'Download Errors',
    'form.construction.importValidItems': 'Import {count} Valid Items',
    'form.construction.rowsHaveErrors': '{count} row(s) have errors:',
    'form.construction.rowLabel': 'Row {row}:',
    'form.construction.rowHeader': 'Row',

    // Sample Measurements
    'form.sample.addRound': 'Add Sample Round',
    'form.sample.saveRound': 'Save Round',
    'form.sample.deleteRound': 'Delete Round',
    'form.sample.roundName': 'Round Name',
    'form.sample.overallComments': 'Overall Comments',

    // Login Page
    'auth.login.title': 'Login',
    'auth.login.email': 'Email',
    'auth.login.password': 'Password',
    'auth.login.rememberMe': 'Remember me',
    'auth.login.forgotPassword': 'Forgot Password?',
    'auth.login.button': 'Login',
    'auth.login.register': 'Register',
    'auth.login.invalidCredentials': 'Invalid email or password',
    'auth.login.emailRequired': 'Email is required',
    'auth.login.passwordRequired': 'Password is required',

    // Profile Page
    'profile.title': 'Profile',
    'profile.personalInfo': 'Personal Information',
    'profile.accountSettings': 'Account Settings',
    'profile.changePassword': 'Change Password',
    'profile.firstName': 'First Name',
    'profile.lastName': 'Last Name',
    'profile.email': 'Email',
    'profile.role': 'Role',
    'profile.phone': 'Phone',
    'profile.updateProfile': 'Update Profile',
    'profile.save': 'Save',
    'profile.currentPassword': 'Current Password',
    'profile.newPassword': 'New Password',
    'profile.confirmPassword': 'Confirm Password',

    // Admin Page
    'admin.title': 'Admin Panel',
    'admin.users': 'Users',
    'admin.settings': 'Settings',
    'admin.permissions': 'Permissions',
    'admin.addUser': 'Add User',
    'admin.editUser': 'Edit User',
    'admin.deleteUser': 'Delete User',
    'admin.resetPassword': 'Reset Password',
    'admin.user.name': 'Name',
    'admin.user.email': 'Email',
    'admin.user.role': 'Role',
    'admin.user.status': 'Status',
    'admin.user.actions': 'Actions',
    'admin.role.admin': 'Admin',
    'admin.role.designer': 'Designer',
    'admin.role.viewer': 'Viewer',
    'admin.role.merchandiser': 'Merchandiser',
    'admin.role.factory': 'Factory',

    // Validation messages
    'validation.required': 'Trường này là bắt buộc',
    'validation.fieldRequired': '{{field}} là bắt buộc',
    'validation.minLength': 'Phải có ít nhất {{count}} ký tự',
    'validation.maxLength': 'Không được nhiều hơn {{count}} ký tự',
    'validation.min': 'Phải lớn hơn hoặc bằng {{value}}',
    'validation.max': 'Không được lớn hơn {{value}}',
    'validation.invalidFormat': 'Invalid format',
    'validation.invalidEmail': 'Invalid email address',
    'validation.passwordsNotMatch': 'Passwords do not match',
    'validation.articleCodeExists': 'Article code already exists',

    // Success messages
    'success.saved': 'Saved successfully',
    'success.created': 'Created successfully',
    'success.updated': 'Updated successfully',
    'success.deleted': 'Deleted successfully',
    'success.uploaded': 'Uploaded successfully',
    'success.techPackCreated': 'Tech Pack created successfully',
    'success.techPackUpdated': 'Tech Pack updated successfully',
    'success.techPackDeleted': 'Tech Pack deleted successfully',

    // Error messages
    'error.network': 'Network error. Please try again.',
    'error.unauthorized': 'Unauthorized. Please login.',
    'error.forbidden': 'You do not have permission to perform this action',
    'error.notFound': 'Resource not found',
    'error.serverError': 'Server error. Please try again later.',
    'error.loadFailed': 'Failed to load data',
    'error.saveFailed': 'Failed to save',
    'error.deleteFailed': 'Failed to delete',
    'error.uploadFailed': 'Failed to upload file',
  },
  vi: {
    'nav.dashboard': 'Bảng điều khiển',
    'nav.techpacks': 'Tech Packs',
    'nav.measurements': 'Kích thước',
    'nav.materials': 'Nguyên phụ liệu',
    'nav.colorways': 'Phối màu',
    'nav.analytics': 'Phân tích',
    'nav.team': 'Nhóm',
    'nav.settings': 'Cài đặt',

    'chip.productionReady': 'Sẵn sàng sản xuất',

    'form.basicInfo': 'Thông tin cơ bản',
    'form.materials': 'Nguyên phụ liệu',
    'form.measurements': 'Kích thước',
    'form.colorways': 'Phối màu',
    'form.construction': 'Cấu trúc',

    'form.productName': 'Tên sản phẩm',
    'form.category': 'Danh mục',
    'form.brand': 'Thương hiệu',
    'form.designer': 'Nhà thiết kế',
    'form.season': 'Mùa',
    'form.status': 'Trạng thái',
    'form.season.placeholder': 'ví dụ: Xuân 2024',

    'form.saveMaterialsToLibrary': 'Lưu nguyên phụ liệu mới vào thư viện',
    'form.saveMeasurementsToLibrary': 'Lưu điểm đo hiện tại thành mẫu',
    'form.saveColorwaysToLibrary': 'Lưu phối màu mới vào thư viện',
    'form.saveMaterialsToLibrary.footer': 'Lưu nguyên phụ liệu vào thư viện',
    'form.saveMeasurementsToLibrary.footer': 'Lưu mẫu kích thước',
    'form.saveColorwaysToLibrary.footer': 'Lưu phối màu vào thư viện',

    'form.createTechPack': 'Tạo Tech Pack',
    'form.updateTechPack': 'Cập nhật Tech Pack',
    'form.createNewTechPackTitle': 'Tạo mới Tech Pack',
    'form.editTechPackTitle': 'Chỉnh sửa Tech Pack',
    'form.cancel': 'Hủy',

    'materials.bom': 'Định mức nguyên phụ liệu',
    'materials.addRow': 'Thêm dòng',
    'materials.addFromLibrary': 'Thêm từ thư viện…',
    'materials.applyTemplate': 'Áp dụng mẫu…',
    'measurements.add': 'Thêm điểm đo',
    'colorways.add': 'Thêm phối màu',
    'actions.add': 'Thêm',
    'actions.remove': 'Xóa',
    'actions.removeColorway': 'Xóa phối màu',
    'actions.apply': 'Áp dụng',

    // Materials table headers
    'materials.header.stt': 'STT',
    'materials.header.specifications': 'Thông số kỹ thuật',
    'materials.header.position': 'Vị trí',
    'materials.header.quantity': 'Số lượng',
    'materials.header.unit': 'Đơn vị',
    'materials.header.notes': 'Ghi chú kỹ thuật',
    'materials.header.submaterials': 'Phụ liệu',

    // Materials fields placeholders
    'materials.placeholder.specifications': 'Thông số kỹ thuật',
    'materials.placeholder.name': 'Tên NPL',
    'materials.placeholder.composition': 'Thành phần vải',
    'materials.placeholder.supplier': 'Nhà cung cấp',
    'materials.placeholder.color': 'Màu',
    'materials.placeholder.consumption': 'Định mức tiêu hao',
    'materials.placeholder.position': 'Vị trí',
    'materials.placeholder.qty': 'SL',
    'materials.placeholder.unit': 'Đơn vị',
    'materials.placeholder.notes': 'Ghi chú kỹ thuật',
    'materials.addSubMaterial': 'Thêm phụ liệu',

    // Measurements
    'measurements.header.point': 'Điểm đo',
    'measurements.header.tolerance': 'Dung sai (ví dụ: ±0,5cm)',
    'measurements.placeholder.size': 'Giá trị',

    // Colorways
    'colorways.placeholder.name': 'Tên phối màu',
    'colorways.placeholder.part': 'Bộ phận',
    'colorways.placeholder.color': 'Màu',
    'colorways.placeholder.pantone': 'Pantone (tuỳ chọn)',

    // Construction
    'construction.placeholder.detail': 'Chi tiết kỹ thuật',

    // TechPackList
    'tpl.header.title': 'Quản lý Tech Pack',
    'tpl.header.subtitle': 'Quản lý bộ hồ sơ kỹ thuật thời trang',
    'tpl.new': 'Tạo Tech Pack',
    'tpl.search.placeholder': 'Tìm kiếm Tech Pack...',
    'tpl.filter.status.all': 'Tất cả trạng thái',
    'tpl.filter.status.draft': 'Nháp',
    'tpl.filter.status.review': 'Đang duyệt',
    'tpl.filter.status.approved': 'Đã duyệt',
    'tpl.filter.status.production': 'Sản xuất',
    'tpl.filter.category.all': 'Tất cả danh mục',
    'tpl.filter.more': 'Thêm bộ lọc',
    'tpl.card.view': 'Xem',
    'tpl.empty.title': 'Không tìm thấy Tech Pack nào',
    'tpl.empty.subtitle': 'Hãy thử điều chỉnh từ khóa hoặc bộ lọc',
    'tpl.empty.cta': 'Tạo Tech Pack đầu tiên',

    // Dashboard
    'dash.stat.total': 'Tổng số Tech Pack',
    'dash.stat.production': 'Đang sản xuất',
    'dash.stat.review': 'Đang duyệt',
    'dash.stat.approved': 'Đã duyệt',
    'dash.recent.techpacks': 'Tech Pack gần đây',
    'dash.recent.activity': 'Hoạt động gần đây',
    'dash.recent.activity.empty': 'Chưa có hoạt động nào.',
    'dash.alerts.title': 'Cảnh báo & Thông báo',
    'dash.alerts.pendingReview.suffix': 'đang chờ duyệt 5 ngày',
    'dash.alerts.seasonDeadline.prefix': 'Sắp đến hạn mùa:',
    'dash.alerts.seasonDeadline.suffix': 'còn 2 tuần',

    // Materials Library
    'matlib.title': 'Thư viện Nguyên Phụ Liệu',
    'matlib.hint': 'Thiết lập VITE_API_BASE_URL để bật thư viện dùng Mongo.',
    'matlib.form.name': 'Tên',
    'matlib.form.composition': 'Thành phần',
    'matlib.form.supplier': 'Nhà cung cấp',
    'matlib.form.color': 'Màu',
    'matlib.form.consumption': 'Định mức tiêu hao',
    'matlib.btn.add': 'Thêm',
    'matlib.btn.update': 'Cập nhật',
    'matlib.btn.edit': 'Sửa',
    'matlib.btn.delete': 'Xóa',
    'matlib.empty': 'Chưa có nguyên phụ liệu.',

    // Measurements Management
    'measmgmt.title': 'Quản lý Kích thước',
    'measmgmt.hint': 'Thiết lập VITE_API_BASE_URL để bật mẫu dùng Mongo.',
    'measmgmt.form.templateName': 'Tên mẫu',
    'measmgmt.form.point': 'Điểm đo',
    'measmgmt.form.tolerance': 'Dung sai',
    'measmgmt.btn.addPoint': 'Thêm điểm đo',
    'measmgmt.pointsCount': '{n} điểm đo',
    'measmgmt.btn.create': 'Tạo mẫu',
    'measmgmt.btn.update': 'Cập nhật mẫu',
    // legacy keys (kept cho đường dẫn cũ)
    'legacy.common.edit': 'Sửa',
    'legacy.common.delete': 'Xóa',
    'measmgmt.empty': 'Chưa có mẫu.',

    // Colorways Management
    'colormgmt.title': 'Quản lý Phối màu',
    'colormgmt.hint': 'Thiết lập VITE_API_BASE_URL để bật phối màu dùng Mongo.',
    'colormgmt.form.name': 'Tên phối màu',
    'colormgmt.form.part': 'Bộ phận',
    'colormgmt.form.color': 'Màu',
    'colormgmt.form.pantone': 'Pantone (tuỳ chọn)',
    'colormgmt.btn.addColor': 'Thêm màu',
    'colormgmt.colorsCount': '{n} màu',
    'colormgmt.btn.create': 'Tạo phối màu',
    'colormgmt.btn.update': 'Cập nhật phối màu',
    'colormgmt.empty': 'Chưa có phối màu.',

    // Sample measurement rounds
    'sample.requestedSource': 'Nguồn Requested',
    'sample.originalSpec': 'Theo thông số gốc',
    'sample.fromPrevious': 'Theo vòng trước',
    'sample.round': 'Vòng mẫu',
    'sample.date': 'Ngày',
    'sample.reviewer': 'Người review',
    'sample.requested': 'Requested',
    'sample.measured': 'Measured',
    'sample.diff': 'Sai lệch',
    'sample.revised': 'Revised',
    'sample.comments': 'Ghi chú',
    'sample.id': 'ID',
    'sample.point': 'Điểm',
    'sample.pomCode': 'Mã POM',
    'sample.pomName': 'Tên POM',
    'sample.measurementId': 'ID Measurement',
    'sample.removeRoundAria': 'Xóa vòng mẫu',

    // Common
    'common.language': 'Ngôn ngữ',
    'common.language.english': 'English',
    'common.language.vietnamese': 'Tiếng Việt',
    'common.save': 'Lưu',
    'common.cancel': 'Hủy',
    'common.delete': 'Xóa',
    'common.edit': 'Sửa',
    'common.view': 'Xem',
    'common.create': 'Tạo',
    'common.update': 'Cập nhật',
    'common.add': 'Thêm',
    'common.back': 'Quay lại',
    'common.next': 'Tiếp',
    'common.previous': 'Trước',
    'common.search': 'Tìm kiếm',
    'common.filter': 'Lọc',
    'common.clear': 'Xóa',
    'common.apply': 'Áp dụng',
    'common.close': 'Đóng',
    'common.confirm': 'Xác nhận',
    'common.yes': 'Có',
    'common.no': 'Không',
    'common.remove': 'Xóa',
    'common.actions': 'Thao tác',
    'common.loading': 'Đang tải...',
    'common.error': 'Lỗi',
    'common.success': 'Thành công',
    'common.warning': 'Cảnh báo',
    'common.info': 'Thông tin',

    // App specific
    'app.title': 'TechPacker Pro',
    'app.techPacks': 'Tech Packs',
    'app.createNew': 'Tạo mới',
    'app.adminPanel': 'Bảng quản trị',
    'app.logout': 'Đăng xuất',
    'app.profile': 'Hồ sơ',
    'app.notFound': 'Không tìm thấy',
    'app.techPackNotFound': 'Không tìm thấy tech pack',
    'app.backToList': 'Quay lại danh sách',

    // Tech Pack List
    'techpack.list.title': 'Tên sản phẩm',
    'techpack.list.articleCode': 'Mã sản phẩm',
    'techpack.list.status': 'Trạng thái',
    'techpack.list.season': 'Mùa',
    'techpack.list.createdDate': 'Ngày tạo',
    'techpack.list.lastUpdated': 'Cập nhật lần cuối',
    'techpack.list.actions': 'Thao tác',
    'techpack.list.action.view': 'Xem',
    'techpack.list.action.edit': 'Sửa',
    'techpack.list.action.delete': 'Xóa',
    'techpack.list.deleteConfirm': 'Bạn có chắc chắn muốn xóa tech pack này?',
    'techpack.list.deleteSuccess': 'Xóa tech pack thành công',
    'techpack.list.noDescription': 'Không có mô tả',

    // Status labels
    'status.draft': 'Nháp',
    'status.inReview': 'Đang duyệt',
    'status.approved': 'Đã duyệt',
    'status.rejected': 'Từ chối',
    'status.archived': 'Đã lưu trữ',
    'status.production': 'Sản xuất',

    // Form Tabs
    'form.tab.articleInfo': 'Thông tin sản phẩm',
    'form.tab.bom': 'Định mức nguyên phụ liệu',
    'form.tab.measurements': 'Kích thước',
    'form.tab.colorways': 'Phối màu',
    'form.tab.construction': 'Cấu trúc',
    'form.tab.sampleMeasurements': 'Đo mẫu',

    // Article Info fields
    'form.articleInfo.articleName': 'Tên sản phẩm',
    'form.articleInfo.articleCode': 'Mã sản phẩm',
    'form.articleInfo.supplier': 'Nhà cung cấp',
    'form.articleInfo.season': 'Mùa',
    'form.articleInfo.technicalDesigner': 'Nhà thiết kế kỹ thuật',
    'form.articleInfo.status': 'Trạng thái',
    'form.articleInfo.category': 'Danh mục',
    'form.articleInfo.gender': 'Giới tính',
    'form.articleInfo.brand': 'Thương hiệu',
    'form.articleInfo.fabricDescription': 'Mô tả vải',
    'form.articleInfo.productDescription': 'Mô tả sản phẩm',
    'form.articleInfo.designSketch': 'Bản vẽ thiết kế',
    'form.articleInfo.companyLogo': 'Logo công ty',
    'form.articleInfo.sampleType': 'Loại mẫu',
    'form.articleInfo.sampleTypePlaceholder': 'Nhập loại mẫu',
    'form.articleInfo.fitType': 'Kiểu dáng',
    'form.articleInfo.lifecycleStage': 'Giai đoạn vòng đời',
    'form.articleInfo.technicalDesignerPlaceholder': 'Nhập tên nhà thiết kế',
    'form.articleInfo.statusHelper': 'Trạng thái hiện tại của TechPack này',
    'form.articleInfo.collection': 'Bộ sưu tập',
    'form.articleInfo.targetMarket': 'Thị trường mục tiêu',
    'form.articleInfo.pricePoint': 'Mức giá',
    'form.articleInfo.currency': 'Tiền tệ',
    'form.articleInfo.retailPrice': 'Giá bán lẻ',
    'form.articleInfo.brandPlaceholder': 'Tên thương hiệu',
    'form.articleInfo.collectionPlaceholder': 'Tên bộ sưu tập',
    'form.articleInfo.pricePointPlaceholder': 'Chọn khoảng giá...',
    'form.articleInfo.fabricDescriptionPlaceholder': 'Mô tả chi tiết về thành phần vải, trọng lượng và thông số kỹ thuật...',
    'form.articleInfo.productDescriptionPlaceholder': 'Mô tả chi tiết sản phẩm bao gồm thiết kế, chức năng, nguyên liệu và phong cách...',
    'form.additionalInformation': 'Thông tin bổ sung',
    'form.requiredInformation': 'Thông tin bắt buộc',
    'form.productDetails': 'Chi tiết sản phẩm',
    'form.completion': 'Hoàn thành',
    'form.checkingAvailability': 'Đang kiểm tra...',
    'form.articleCodeMustBeUnique': 'Mã sản phẩm phải là duy nhất',
    'form.articleCodeAvailable': 'Mã sản phẩm có sẵn',

    // BOM fields
    'form.bom.part': 'Bộ phận',
    'form.bom.materialName': 'Tên nguyên liệu',
    'form.bom.supplierCode': 'Mã nhà cung cấp',
    'form.bom.placement': 'Vị trí',
    'form.bom.size': 'Kích thước',
    'form.bom.quantity': 'Số lượng',
    'form.bom.unit': 'Đơn vị đo',
    'form.bom.supplier': 'Nhà cung cấp',
    'form.bom.color': 'Màu',
    'form.bom.notes': 'Ghi chú',
    'form.bom.subMaterials': 'Phụ liệu',
    'form.bom.addRow': 'Thêm dòng',
    'form.bom.deleteRow': 'Xóa dòng',
    'form.bom.addFromLibrary': 'Thêm từ thư viện',
    'form.bom.applyTemplate': 'Áp dụng mẫu',
    'form.bom.import': 'Nhập',
    'form.bom.export': 'Xuất',
    'form.bom.material': 'Nguyên liệu',
    'form.bom.addMaterial': 'Thêm nguyên liệu mới',
    'form.bom.editMaterial': 'Sửa nguyên liệu',
    'form.bom.unitPrice': 'Đơn giá',
    'form.bom.totalPrice': 'Tổng giá',
    'form.bom.colorCode': 'Mã màu',
    'form.bom.materialComposition': 'Thành phần nguyên liệu',
    'form.bom.comments': 'Ghi chú',
    'form.bom.materialUpdated': 'Cập nhật vật liệu thành công',
    'form.tab.articleInfo.description': 'Thông tin sản phẩm cơ bản',
    'form.tab.bom.description': 'Nguyên phụ liệu và linh kiện',
    'form.tab.measurements.description': 'Thông số kích thước',
    'form.tab.construction.description': 'Hướng dẫn cấu trúc',
    'form.tab.colorways.description': 'Biến thể màu sắc',
    'form.tab.packing': 'Đóng gói',
    'form.tab.packing.description': 'Hướng dẫn đóng gói và gấp',
    'form.packing.title': 'Hướng dẫn đóng gói & gấp',
    'form.packing.subtitle': 'Dán sơ đồ, hình ảnh, checklist, bảng biểu hoặc hướng dẫn đúng như cách bạn muốn hiển thị trong PDF.',
    'form.packing.wordCount': '{count} từ',
    'form.packing.charCount': '{count} ký tự',
    'form.packing.clear': 'Xóa nội dung',
    'form.packing.placeholder': 'Dán quy trình đóng gói, sơ đồ gấp, phân rã vật tư, checklist QA, nhãn carton, sơ đồ pallet, v.v...',
    'form.packing.tipsTitle': 'Mẹo',
    'form.packing.tip1': 'Có thể dán trực tiếp từ Word, Excel, PDF hoặc bất kỳ website nào. Định dạng, bảng và bullet sẽ được giữ lại.',
    'form.packing.tip2': 'Dùng công cụ ảnh hoặc dán ảnh inline để minh họa các bước gấp, bố cục thùng carton hoặc yêu cầu nhãn.',
    'form.packing.tip3': 'Checklist có thể tạo bằng nút checklist hoặc danh sách bullet.',
    'form.packing.tip4': 'Toàn bộ nội dung sẽ được nhúng vào file Techpack PDF chính xác như hiển thị tại đây.',
    'form.tab.revisionHistory': 'Lịch sử chỉnh sửa',
    'form.tab.revisionHistory.description': 'Theo dõi thay đổi',
    'form.revision.subtitle': 'Theo dõi thay đổi và quay lại các phiên bản TechPack trước đó',
    'form.revision.emptyTitle': 'Chưa có phiên bản nào',
    'form.revision.emptyDescription': 'Lịch sử phiên bản sẽ xuất hiện tại đây sau khi bạn lưu TechPack đầu tiên.',
    'form.revision.count': '{{count}} phiên bản',
    'form.revision.searchPlaceholder': 'Tìm kiếm phiên bản...',
    'form.revision.filterByType': 'Lọc theo loại',
    'form.revision.type.auto': 'Tự động',
    'form.revision.type.manual': 'Thủ công',
    'form.revision.type.approval': 'Duyệt',
    'form.revision.type.rollback': 'Hoàn tác',
    'form.revision.emptyList': 'Không tìm thấy phiên bản nào',
    'form.revision.loadError': 'Không tải được lịch sử phiên bản',
    'form.revision.selectPrompt': 'Chọn một phiên bản để xem chi tiết',
    'form.revision.current': 'Hiện tại',
    'form.revision.noDescription': 'Không có mô tả',
    'form.revision.unknownUser': 'Không rõ',
    'form.sharing.title': 'Chia sẻ & Phân quyền truy cập',
    'form.sharing.subtitle': 'Quản lý ai có thể xem hoặc chỉnh sửa Tech Pack này.',
    'form.sharing.notAvailableTitle': 'Chức năng chia sẻ chưa khả dụng',
    'form.sharing.notAvailableDescription': 'Vui lòng lưu Tech Pack trước để bật các tùy chọn chia sẻ.',
    'form.sharing.viewOnlyTitle': 'Bạn chỉ có quyền xem TechPack này',
    'form.sharing.viewOnlyViewer': 'Bạn có thể xem toàn bộ nội dung nhưng không thể chỉnh sửa hoặc quản lý chia sẻ.',
    'form.sharing.viewOnlyEditor': 'Bạn có thể chỉnh sửa nội dung nhưng không thể quản lý cài đặt chia sẻ.',
    'form.sharing.viewOnlyOther': 'Chỉ chủ sở hữu hoặc quản trị viên mới có thể quản lý chia sẻ cho TechPack này.',
    'form.sharing.currentRoleLabel': 'Vai trò hiện tại của bạn:',
    'form.sharing.noAccess': 'Không có quyền',
    'form.sharing.loading': 'Đang tải cài đặt chia sẻ...',
    'form.sharing.grantTitle': 'Cấp quyền cho người dùng',
    'form.sharing.userLabel': 'Người dùng',
    'form.sharing.userPlaceholder': 'Chọn người dùng...',
    'form.sharing.noUsersOption': 'Không có người dùng nào để chia sẻ',
    'form.sharing.roleLabel': 'Vai trò',
    'form.sharing.adding': 'Đang thêm...',
    'form.sharing.addUser': 'Thêm người dùng',
    'form.sharing.noUsersTitle': 'Không có người dùng nào để chia sẻ.',
    'form.sharing.noUsersReasonTitle': 'Có thể do:',
    'form.sharing.noUsersReason1': 'Tất cả người dùng đã được chia sẻ TechPack này',
    'form.sharing.noUsersReason2': 'Không có người dùng nào khác trong hệ thống',
    'form.sharing.noUsersReason3': 'Tất cả người dùng đều là admin hoặc technical designer',
    'form.sharing.debugTitle': 'Thông tin debug:',
    'form.sharing.availableUsers': 'Có {{count}} người dùng có thể chia sẻ.',
    'form.sharing.currentlySharedTitle': 'Đang chia sẻ với ({{count}})',
    'form.sharing.table.user': 'Người dùng',
    'form.sharing.table.role': 'Vai trò',
    'form.sharing.table.sharedBy': 'Người chia sẻ',
    'form.sharing.table.dateShared': 'Ngày chia sẻ',
    'form.sharing.unknownUser': 'Không rõ',
    'form.sharing.notAvailable': 'Không có',
    'form.sharing.emptyAccessList': 'Tech Pack này chưa được chia sẻ với ai.',
    'form.sharing.loadError': 'Không tải được thông tin chia sẻ.',
    'form.sharing.accessGranted': 'Cấp quyền truy cập thành công.',
    'form.sharing.cannotShareAdminOrDesigner': 'Không thể chia sẻ với admin hệ thống hoặc nhà thiết kế kỹ thuật được gán.',
    'form.sharing.grantFailed': 'Cấp quyền truy cập thất bại.',
    'form.sharing.roleUpdated': 'Cập nhật vai trò thành công.',
    'form.sharing.updateRoleFailed': 'Cập nhật vai trò thất bại.',
    'form.sharing.confirmRevoke': 'Bạn có chắc muốn hủy quyền truy cập của {{userName}} không?',
    'form.sharing.accessRevoked': 'Hủy quyền truy cập thành công.',
    'form.sharing.revokeFailed': 'Hủy quyền truy cập thất bại.',
    'admin.accessDenied.title': 'Từ chối truy cập',
    'admin.accessDenied.message': 'Bạn không có quyền truy cập trang này.',
    'admin.menu.title': 'Menu quản trị',
    'admin.menu.users': 'Quản lý người dùng',
    'admin.users.title': 'Quản lý người dùng',
    'admin.users.subtitle': 'Quản trị người dùng và vai trò',
    'admin.users.addNew': 'Thêm người dùng',
    'admin.users.allUsers': 'Tất cả người dùng',
    'admin.users.searchPlaceholder': 'Tìm theo tên hoặc email',
    'admin.users.filterByRole': 'Lọc theo vai trò',
    'admin.users.fetchError': 'Không tải được danh sách người dùng',
    'admin.users.na': 'Không có',
    'admin.users.columns.name': 'Họ tên',
    'admin.users.columns.email': 'Email',
    'admin.users.columns.role': 'Vai trò',
    'admin.users.columns.createdAt': 'Ngày tạo',
    'admin.users.columns.lastLogin': 'Đăng nhập cuối',
    'admin.users.stats.totalUsers': 'Tổng số người dùng',
    'admin.users.stats.mostCommonRole': 'Vai trò phổ biến nhất',
    'admin.users.stats.newUsers': 'Người dùng mới (7 ngày gần nhất)',
    'admin.users.stats.na': 'Không có',
    'admin.users.delete.title': 'Bạn có chắc muốn xóa người dùng này không?',
    'admin.users.delete.content': '{{name}} sẽ bị xóa vĩnh viễn.',
    'admin.users.delete.ok': 'Đồng ý xóa',
    'admin.users.delete.success': 'Xóa người dùng thành công',
    'admin.users.delete.error': 'Xóa người dùng thất bại',
    'admin.users.twoFactor.enabled': 'Đã bật xác thực hai lớp cho {{email}}',
    'admin.users.twoFactor.disabled': 'Đã tắt xác thực hai lớp cho {{email}}',
    'admin.users.twoFactor.error': 'Không thể cập nhật 2FA cho {{email}}',
    'admin.users.roles.admin': 'Quản trị viên',
    'admin.users.roles.designer': 'Nhà thiết kế',
    'admin.users.roles.merchandiser': 'Merchandiser',
    'admin.users.roles.viewer': 'Người xem',
    'techpack.create.title': 'Tạo TechPack mới',
    'techpack.updateSuccess': 'Cập nhật TechPack thành công!',
    'techpack.create.subtitle': 'Chọn cách bạn muốn tạo TechPack mới:',
    'techpack.create.continue': 'Tiếp tục',
    'techpack.create.fromScratch.title': 'Tạo mới hoàn toàn',
    'techpack.create.fromScratch.description': 'Bắt đầu một TechPack hoàn toàn mới với các trường trống',
    'techpack.create.fromExisting.title': 'Tạo từ TechPack có sẵn',
    'techpack.create.fromExisting.description': 'Nhân bản một TechPack hiện có để chỉnh sửa và tái sử dụng',
    'techpack.create.tipLabel': 'Mẹo:',
    'techpack.create.tipText': 'Tạo từ TechPack có sẵn rất phù hợp khi sản phẩm mới chỉ khác một chút về màu sắc, chất liệu hoặc thông số.',
    'techpack.clone.title': 'Chọn TechPack để nhân bản',
    'techpack.clone.selectButton': 'Chọn TechPack này',
    'techpack.clone.subtitle': 'Chọn một TechPack có sẵn để dùng làm mẫu cho TechPack mới:',
    'techpack.clone.searchPlaceholder': 'Tìm theo tên sản phẩm, mã hàng hoặc mùa...',
    'techpack.clone.loading': 'Đang tải danh sách TechPack...',
    'techpack.clone.emptySearch': 'Không có TechPack nào khớp với tìm kiếm của bạn',
    'techpack.clone.emptyList': 'Không có TechPack nào',
    'techpack.clone.articleCode': 'Mã hàng',
    'techpack.clone.season': 'Mùa',
    'techpack.clone.createdBy': 'Tạo bởi',
    'techpack.clone.status.draft': 'Bản nháp',
    'techpack.clone.selectedLabel': 'Đã chọn',
    'techpack.common.defaultName': 'TechPack',
    'form.unsavedChanges.title': 'Thoát mà không lưu?',
    'form.unsavedChanges.content': 'Bạn có muốn thoát mà không lưu các thay đổi?',
    'form.unsavedChanges.okText': 'Thoát',
    'form.unsavedChanges.cancelText': 'Tiếp tục chỉnh sửa',
    'form.unsavedChanges.label': 'Có thay đổi chưa lưu',
    'form.newTechPack': 'Tech Pack mới',
    'form.noArticleCode': 'Chưa có mã sản phẩm',
    'form.version': 'Phiên bản',
    'form.progress': 'Tiến độ',
    'form.saving': 'Đang lưu...',
    'form.saved': 'Đã lưu',
    'form.readOnlyMode': 'Chế độ chỉ đọc',
    'form.exportingPDF': 'Đang tạo PDF...',
    'form.exportPDF': 'Xuất PDF',
    'form.cannotDisplayImage': 'Không thể hiển thị ảnh',
    'form.cannotDisplayLogo': 'Không thể hiển thị logo',
    'form.removeImage': 'Xóa ảnh',
    'form.removeLogo': 'Xóa logo',
    'form.designSketchUploaded': 'Tải lên bản vẽ thiết kế thành công',
    'form.logoUploaded': 'Tải lên logo thành công',
    'form.replaceImage': 'Thay thế ảnh',
    'form.replaceLogo': 'Thay thế logo',
    'form.uploadDesignSketch': 'Tải lên bản vẽ thiết kế',
    'form.uploadDesignSketchRequired': 'Tải lên ảnh bản vẽ thiết kế (bắt buộc)',
    'form.uploadCompanyLogo': 'Tải lên logo công ty',
    'form.uploading': 'Đang tải lên...',
    'form.uploadingLogo': 'Đang tải logo...',
    'form.orDragAndDrop': 'hoặc kéo thả',
    'form.imageUploadHint': 'PNG, JPG, GIF, SVG tối đa 5MB',
    'form.uploadImage': 'Tải ảnh lên',
    'form.companyLogoUploadHint': 'PNG, JPG, GIF, SVG tối đa 5MB. Chúng tôi sẽ tự động điều chỉnh kích thước để vừa với tiêu đề PDF.',
    'form.companyLogoHint': 'sử dụng trên mọi trang PDF',
    'form.companyLogoRecommendation': 'Khuyến nghị: logo ngang với nền trong suốt. Logo sẽ xuất hiện trên trang bìa và mọi trang PDF.',
    'form.articleInfo.notes': 'Ghi chú',
    'form.articleInfo.notesPlaceholder': 'Ghi chú bổ sung hoặc hướng dẫn đặc biệt...',
    'form.systemInformation': 'Thông tin hệ thống (Chỉ đọc)',
    'form.created': 'Đã tạo',
    'form.lastModified': 'Chỉnh sửa lần cuối',
    'form.by': 'bởi',
    'form.saveDraft': 'Lưu',
    'form.next': 'Tiếp theo',
    'form.preview': 'Xem trước',
    'form.preview.class': 'Loại',
    'form.preview.fit': 'Kiểu dáng',
    'form.preview.stage': 'Giai đoạn',
    'form.preview.supplier': 'Nhà cung cấp',
    'form.preview.fabric': 'Vải',
    'form.preview.description': 'Mô tả',
    'form.preview.designer': 'Nhà thiết kế',
    'form.preview.notAssigned': 'Chưa được gán',
    'form.invalidFileType': 'Loại file không hợp lệ. Vui lòng tải lên ảnh JPEG, PNG, GIF hoặc SVG.',
    'form.fileSizeExceeds': 'Dung lượng file vượt quá giới hạn 5MB. Vui lòng tải lên ảnh nhỏ hơn.',
    'form.bom.items': 'Mục',
    'form.bom.suppliers': 'Nhà cung cấp',
    'form.bom.searchPlaceholder': 'Tìm kiếm nguyên liệu...',
    'form.bom.allParts': 'Tất cả bộ phận',
    'form.bom.materialImage': 'Ảnh vật tư (upload)',
    'form.bom.uploadImage': 'Upload ảnh',
    'form.bom.removeImage': 'Xóa ảnh',
    'form.bom.noImage': 'Chưa có ảnh',
    'form.bom.uploadingImage': 'Đang tải ảnh...',
    'form.bom.imagePath': 'Đường dẫn',
    'form.bom.preview': 'Xem trước',
    'form.bom.fixErrors': 'Vui lòng sửa các lỗi sau:',
    'form.bom.image': 'Ảnh',
    'form.bom.quantityShort': 'SL',
    'form.bom.uom': 'ĐV',
    'form.bom.assignColor': 'Gán màu',
    'form.bom.clear': 'Xóa',
    'form.bom.useExistingColor': 'Sử dụng màu hiện có',
    'form.bom.createNewColor': 'Tạo màu mới',
    'form.bom.colorwayParts': 'Bộ phận phối màu',
    'form.bom.selectColorwayPart': 'Chọn bộ phận phối màu...',
    'form.bom.duplicatedMaterials': 'Đã nhân đôi {count} nguyên liệu',
    'form.bom.bulkDeleteWithColorways': '{count} nguyên liệu được chọn. {colorwayCount} gán phối màu sẽ bị xóa. Tiếp tục?',
    'form.bom.bulkDeleteConfirm': 'Bạn có chắc chắn muốn xóa {count} nguyên liệu đã chọn?',
    'form.bom.deletedMaterials': 'Đã xóa {count} nguyên liệu',
    'form.bom.deleteWithColorways': 'Nguyên liệu "{part} - {material}" được liên kết với {count} phối màu. Xóa nó sẽ loại bỏ các gán màu đó. Tiếp tục?',
    'form.bom.deleteConfirm': 'Bạn có chắc chắn muốn xóa "{part} - {material}"?',
    'form.bom.materialDeleted': 'Đã xóa nguyên liệu "{part} - {material}"',
    'form.bom.noMaterialsToExport': 'Không có nguyên liệu để xuất',
    'form.bom.exportedSuccessfully': 'Xuất BOM thành công',
    'form.bom.sampleCsvDownloaded': 'Đã tải xuống mẫu CSV',
    'form.bom.importedWithErrors': 'Đã nhập {success} mục, {errors} mục bị bỏ qua do lỗi',
    'form.bom.importedSuccessfully': 'Đã nhập thành công {count} mục',
    'form.bom.colorAssignmentRemoved': 'Đã xóa gán màu.',
    'form.bom.noColorwayPartsAvailable': 'Không có bộ phận phối màu. Chuyển sang "Tạo màu mới" để định nghĩa một bộ phận cho nguyên liệu BOM này.',
    'form.bom.colorName': 'Tên màu',
    'form.bom.colorNamePlaceholder': 'VD: Xanh navy',
    'form.bom.pantoneCode': 'Mã Pantone',
    'form.bom.pantoneCodePlaceholder': '19-4052 TPX',
    'form.bom.hexColor': 'Mã màu Hex',
    'form.bom.colorType': 'Loại màu',
    'form.bom.importPreview': 'Xem trước nhập',
    'form.bom.importValidItems': 'Nhập {count} mục hợp lệ',
    'form.bom.rowsHaveErrors': '{count} hàng có lỗi:',
    'form.bom.rowError': 'Hàng {row}: {errors}',
    'form.bom.row': 'Hàng',
    'form.bom.status': 'Trạng thái',
    'form.bom.valid': 'Hợp lệ',
    'form.bom.error': 'Lỗi',
    'form.bom.colorwayColumns': 'Cột phối màu',
    'form.bom.colorwayColumnsDescription': 'Bật/tắt các phối màu xuất hiện trong lưới BOM để kiểm tra màu nhanh.',
    'form.bom.showAll': 'Hiển thị tất cả',
    'form.bom.hideAll': 'Ẩn tất cả',
    'form.bom.materialsList': 'Danh sách nguyên liệu',
    'form.bom.validationErrors': '{count} mục có lỗi xác thực. Vui lòng sửa chúng trước khi lưu.',
    'form.bom.selected': 'Đã chọn: {count} mục',
    'form.bom.duplicate': 'Nhân đôi',
    'form.bom.clearSelection': 'Xóa lựa chọn',
    'form.bom.selectAll': 'Chọn tất cả',
    'form.bom.deselectAll': 'Bỏ chọn tất cả',
    'form.bom.noMaterialsYet': 'Chưa có nguyên liệu nào. Nhấp \'Thêm nguyên liệu\' để bắt đầu hoặc sử dụng mẫu.',
    'form.bom.showingItems': 'Hiển thị {from} đến {to} trong tổng số {total} mục',
    'form.bom.perPage': '{count} mỗi trang',
    'form.bom.pageOf': 'Trang {current} / {total}',
    'form.bom.mapCsvColumns': 'Ánh xạ cột CSV sang trường BOM',
    'form.bom.continueToPreview': 'Tiếp tục xem trước',
    'form.bom.mapCsvColumnsDescription': 'Ánh xạ mỗi cột CSV sang một trường BOM. Để trống nếu không cần.',
    'form.bom.notMapped': '-- Chưa ánh xạ --',
    'form.bom.materialImageUrl': 'URL ảnh nguyên liệu',
    'form.bom.errorReportDownloaded': 'Đã tải xuống báo cáo lỗi',

    // Measurements Tab
    'form.measurement.title': 'Bảng thông số đo',
    'form.measurement.subtitle': 'Định nghĩa các điểm đo và thông số theo size',
    'form.measurement.points': 'Điểm đo',
    'form.measurement.sizes': 'Size',
    'form.measurement.sizeRangeTitle': 'Cấu hình dải size',
    'form.measurement.sizeRangeDescription': 'Quản lý dải size riêng cho từng techpack. Giới tính mặc định: {gender}',
    'form.measurement.unisex': 'Unisex',
    'form.measurement.preset': 'Mẫu có sẵn:',
    'form.measurement.applyPreset': 'Áp dụng',
    'form.measurement.noSizesConfigured': 'Chưa cấu hình size nào.',
    'form.measurement.removeSizeAria': 'Xóa size {size}',
    'form.measurement.baseSizeLabel': 'Size chuẩn',
    'form.measurement.baseSizeHint': 'Size chuẩn điều khiển cột được tô đậm, bước nhảy và xuất PDF. Thay đổi size chuẩn sẽ cập nhật tất cả điểm đo.',
    'form.measurement.unitLabel': 'Đơn vị đo',
    'form.measurement.unitHint': 'Đơn vị áp dụng cho tất cả thông số trong techpack này. Thay đổi đơn vị sẽ cập nhật toàn bộ giá trị đo.',
    'form.measurement.newSizePlaceholder': 'VD: 2, 4, 6, 4XL',
    'form.measurement.addSize': 'Thêm size',
    'form.measurement.addCommonPoints': 'Thêm điểm đo thường dùng',
    'form.measurement.importExcel': 'Nhập Excel',
    'form.measurement.exportExcel': 'Xuất Excel',
    'form.measurement.addMeasurement': 'Thêm thông số đo',
    'form.measurement.editPoint': 'Sửa điểm đo',
    'form.measurement.addPoint': 'Thêm điểm đo mới',
    'form.measurement.pomCodeLabel': 'Mã POM *',
    'form.measurement.pomCodePlaceholder': 'VD: CHEST, LENGTH',
    'form.measurement.pomCodeHelper': 'Chữ in HOA, số, dấu gạch nối, gạch dưới',
    'form.measurement.pomNameLabel': 'Tên POM *',
    'form.measurement.pomNamePlaceholder': 'VD: Ngang ngực 1 inch dưới nách',
    'form.measurement.minusToleranceLabel': 'Dung sai âm',
    'form.measurement.plusToleranceLabel': 'Dung sai dương',
    'form.measurement.tolerancePlaceholder': 'VD: 1.0',
    'form.measurement.toleranceHelper': 'Dung sai theo {unit}',
    'form.measurement.methodLabel': 'Cách đo',
    'form.measurement.methodPlaceholder': 'Mô tả ngắn gọn cách đo',
    'form.measurement.baseAndJumpTitle': 'Size chuẩn & bước nhảy ({unit})',
    'form.measurement.selectAtLeastOneSize': 'Chọn ít nhất một size',
    'form.measurement.baseSizeManagedHint': 'Quản lý trong phần Cấu hình dải size. Size chuẩn điều khiển cột tô đậm và tính bước nhảy.',
    'form.measurement.baseMeasurementLabel': 'Giá trị đo size chuẩn ({unit})',
    'form.measurement.baseMeasurementPlaceholder': 'VD: 30',
    'form.measurement.baseBadge': 'Chuẩn',
    'form.measurement.sizeJumpLabel': 'Bước nhảy {size}',
    'form.measurement.jumpPlaceholder': '+0.5 / +1/2 / -0.25',
    'form.measurement.actual': 'Thực tế:',
    'form.measurement.notesLabel': 'Ghi chú',
    'form.measurement.notesPlaceholder': 'Ghi chú thêm hoặc hướng dẫn đặc biệt...',
    'form.measurement.measurement': 'thông số đo',
    'form.measurement.pomCodeColumn': 'Mã POM',
    'form.measurement.pomNameColumn': 'Tên POM',
    'form.measurement.toleranceColumn': 'Dung sai',
    'form.measurement.noPoints': 'Chưa có điểm đo nào. Thêm thông số đo để bắt đầu.',
    'form.measurement.sampleRoundsTitle': 'Vòng mẫu',
    'form.measurement.sampleRoundsDescription': 'Ghi lại giá trị yêu cầu và giá trị đo được cho từng vòng mẫu',
    'form.measurement.completeCurrentRound': 'Vui lòng hoàn thành vòng hiện tại trước khi tạo vòng mới.',
    'form.measurement.completePreviousRound': 'Vui lòng hoàn thành vòng trước đó trước khi tạo vòng mới.',
    'form.measurement.addSampleRound': 'Thêm vòng mẫu',
    'form.measurement.roundNamePlaceholder': 'Tên vòng',
    'form.measurement.saveRoundTitle': 'Lưu vòng này. Các size chưa điền sẽ giữ nguyên giá trị yêu cầu ban đầu.',
    'form.measurement.date': 'Ngày',
    'form.measurement.reviewer': 'Người duyệt',
    'form.measurement.reviewerPlaceholder': 'Tên người duyệt',
    'form.measurement.requestedSourceLabel': 'Nguồn giá trị yêu cầu',
    'form.measurement.overallComments': 'Nhận xét tổng quan',
    'form.measurement.overallCommentsPlaceholder': 'Tóm tắt kết quả, nhận xét...',
    'form.measurement.addPointsForRounds': 'Thêm điểm đo để bắt đầu theo dõi vòng mẫu.',
    'form.measurement.noSampleRounds': 'Chưa có vòng mẫu nào. Nhấp "Thêm vòng mẫu" để tạo vòng đầu tiên.',
    'form.measurement.createSampleRoundTitle': 'Tạo vòng mẫu mới',
    'form.measurement.roundName': 'Tên vòng',
    'form.measurement.requestedSourceOriginal': 'Thông số gốc (từ Bảng thông số đo)',
    'form.measurement.requestedSourcePrevious': 'Từ vòng trước (dùng giá trị Revised của vòng gần nhất)',
    'form.measurement.requestedSourceHint': 'Chỉ khả dụng sau khi tạo vòng đầu tiên',
    'form.measurement.createRound': 'Tạo vòng',
    'form.measurement.guidelinesTitle': 'Hướng dẫn thông số đo:',
    'form.measurement.guidelineUnit': 'Tất cả thông số sử dụng cùng một đơn vị được chọn ở cấp bảng',
    'form.measurement.guidelineTolerance': 'Dung sai tuân theo đơn vị đã chọn (VD: 1.0 nghĩa là ±1.0 {unit})',
    'form.measurement.guidelineConsistentTolerance': 'Sử dụng dung sai nhất quán cho các điểm đo tương tự',
    'form.measurement.guidelineZeroValues': 'Giá trị 0 vẫn được giữ lại - để trống nếu "không đo"',
    'form.measurement.guidelineCompleteRound': 'Hoàn thành toàn bộ điểm đo trong một vòng trước khi tạo vòng mới',
    'form.measurement.changeBaseSizeTitle': 'Thay đổi size chuẩn',
    'form.measurement.changeBaseSizeMessage': 'Đổi size chuẩn thành {size}? Thao tác này sẽ cập nhật tất cả điểm đo liên quan và file PDF.',
    'form.measurement.changeBaseSizeConfirm': 'Đổi size chuẩn',
    'form.measurement.changeBaseSizeCancel': 'Giữ nguyên',
    'form.measurement.thisSize': 'size này',
    'form.measurement.previousRoundEditWarning': 'Bạn không thể chỉnh sửa vòng trước đó vì sẽ ảnh hưởng đến các vòng tiếp theo.',
    'form.measurement.atLeastOneSizeRequired': 'Cần ít nhất một size.',
    'form.measurement.sizeLabelRequired': 'Vui lòng nhập nhãn size trước khi thêm.',
    'form.measurement.sizeAlreadyExists': 'Size đã tồn tại trong dải này.',
    'form.measurement.applyEmptyPresetConfirm': 'Áp dụng preset rỗng và xóa toàn bộ size đã cấu hình?',
    'form.measurement.applyPresetReplaceConfirm': 'Áp dụng preset sẽ thay thế dải size hiện tại của techpack này. Tiếp tục?',
    'form.measurement.baseSizeRequired': 'Vui lòng chọn size chuẩn',
    'form.measurement.baseSizeRequiredLong': 'Vui lòng chọn size chuẩn cho thông số đo này.',
    'form.measurement.atLeastOneMeasurement': 'Cần ít nhất một size có giá trị đo lớn hơn 0',
    'form.measurement.enterBaseMeasurement': 'Nhập giá trị đo cho size chuẩn',
    'form.measurement.baseMeasurementRequired': 'Cần nhập giá trị đo của size chuẩn trước khi lưu.',
    'form.measurement.updated': 'Cập nhật thông số đo thành công',
    'form.measurement.added': 'Thêm thông số đo thành công',
    'form.measurement.field.pomCode': 'Mã POM',
    'form.measurement.field.pomName': 'Tên POM',
    'form.measurement.field.minusTolerance': 'Dung sai âm',
    'form.measurement.field.plusTolerance': 'Dung sai dương',
    'form.measurement.field.sizes': 'Thông số theo size',
    'form.measurement.common.chestName': 'Ngực 1" dưới nách',
    'form.measurement.common.chestMethod': 'Đo ngang ngực cách đường nách 1 inch',
    'form.measurement.common.lengthName': 'Dài lưng giữa',
    'form.measurement.common.lengthMethod': 'Đo từ giữa cổ sau xuống lai',
    'form.measurement.common.sleeveName': 'Dài tay',
    'form.measurement.common.sleeveMethod': 'Đo từ đỉnh vai tới manh tay/cổ tay',
    'form.measurement.common.shoulderName': 'Rộng vai',
    'form.measurement.common.shoulderMethod': 'Đo từ đỉnh vai này sang đỉnh vai kia',
    'form.measurement.common.waistName': 'Eo',
    'form.measurement.common.waistMethod': 'Đo tại vòng eo tự nhiên',
    'form.measurement.commonAdded': 'Đã thêm các điểm đo thường dùng',
    'form.measurement.duplicate': 'Nhân đôi',

    // Colorways fields
    'form.colorway.name': 'Tên phối màu',
    'form.colorway.code': 'Mã',
    'form.colorway.pantoneCode': 'Mã Pantone',
    'form.colorway.hexColor': 'Màu Hex',
    'form.colorway.rgbColor': 'Màu RGB',
    'form.colorway.placement': 'Vị trí',
    'form.colorway.materialType': 'Loại nguyên liệu',
    'form.colorway.supplier': 'Nhà cung cấp',
    'form.colorway.addColorway': 'Thêm phối màu',
    'form.colorway.deleteColorway': 'Xóa phối màu',
    'form.colorway.addColorPart': 'Thêm bộ phận màu',
    'form.colorway.subtitle': 'Quản lý các phương án phối màu và mã Pantone',
    'form.colorway.imageSubtitle': 'Tải ảnh lên để hiển thị',
    'form.colorway.imageLabel': 'Ảnh phối màu',
    'form.colorway.changeImage': 'Đổi ảnh',
    'form.colorway.namePlaceholder': 'VD: Navy Blazer',
    'form.colorway.codePlaceholder': 'VD: NVY001',
    'form.colorway.editTitle': 'Sửa phối màu',
    'form.colorway.addTitle': 'Thêm phối màu mới',
    'form.colorway.emptyTitle': 'Chưa có phối màu nào',
    'form.colorway.emptyDescription': 'Thêm phối màu để định nghĩa các phương án màu cho tech pack này.',
    'form.colorway.untitled': 'Phối màu chưa đặt tên',
    'form.colorway.codeLabel': 'Mã:',
    'form.colorway.duplicate': 'Nhân đôi',

    // Construction fields
    'form.construction.pomCode': 'Mã POM',
    'form.construction.pomName': 'Tên POM',
    'form.construction.description': 'Mô tả',
    'form.construction.stepNumber': 'Số bước',
    'form.construction.instructions': 'Hướng dẫn',
    'form.construction.tips': 'Mẹo',
    'form.construction.commonMistakes': 'Lỗi thường gặp',
    'form.construction.relatedMeasurements': 'Điểm đo liên quan',
    'form.construction.note': 'Ghi chú',
    'form.construction.addMeasurementPoint': 'Thêm điểm đo',
    'form.construction.deleteMeasurementPoint': 'Xóa điểm đo',
    'form.construction.notePlaceholder': 'Ghi chú thêm hoặc hướng dẫn may mặc...',
    'form.construction.title': 'Cấu trúc',
    'form.construction.subtitle': 'Hướng dẫn may mặc và chi tiết cấu trúc',
    'form.construction.searchPlaceholder': 'Tìm kiếm cấu trúc...',
    'form.construction.importCsv': 'Nhập CSV',
    'form.construction.exportCsv': 'Xuất CSV',
    'form.construction.add': 'Thêm cấu trúc',
    'form.construction.validationSummary': 'Có {count} cấu trúc bị lỗi xác thực. Vui lòng kiểm tra và sửa trước khi lưu.',
    'form.construction.editTitle': 'Sửa cấu trúc',
    'form.construction.detailTitle': 'Chi tiết cấu trúc',
    'form.construction.imageLabel': 'Ảnh minh họa',
    'form.construction.listTitle': 'Danh sách cấu trúc',
    'form.construction.imageColumn': 'Ảnh',
    'form.construction.noteColumn': 'Ghi chú',
    'form.construction.empty': 'Chưa có cấu trúc nào. Nhấp "Thêm cấu trúc" để bắt đầu.',
    'form.construction.imageAlt': 'Ảnh cấu trúc',
    'form.construction.noNote': 'Chưa có ghi chú',
    'form.construction.duplicate': 'Nhân đôi',
    'form.construction.mapCsvTitle': 'Ánh xạ cột CSV sang trường Cấu trúc',
    'form.construction.mapCsvDescription': 'Ánh xạ từng cột CSV sang một trường Cấu trúc. Để trống nếu không cần.',
    'form.construction.notMapped': '-- Chưa ánh xạ --',
    'form.construction.steps': 'Các bước',
    'form.construction.imageUrl': 'URL ảnh',
    'form.construction.videoUrl': 'URL video',
    'form.construction.language': 'Ngôn ngữ',
    'form.construction.importPreviewTitle': 'Xem trước nhập liệu',
    'form.construction.downloadErrors': 'Tải xuống lỗi',
    'form.construction.importValidItems': 'Nhập {count} dòng hợp lệ',
    'form.construction.rowsHaveErrors': '{count} dòng có lỗi:',
    'form.construction.rowLabel': 'Dòng {row}:',
    'form.construction.rowHeader': 'Dòng',

    // Sample Measurements
    'form.sample.addRound': 'Thêm vòng mẫu',
    'form.sample.saveRound': 'Lưu vòng',
    'form.sample.deleteRound': 'Xóa vòng',
    'form.sample.roundName': 'Tên vòng',
    'form.sample.overallComments': 'Ghi chú tổng thể',

    // Login Page
    'auth.login.title': 'Đăng nhập',
    'auth.login.email': 'Email',
    'auth.login.password': 'Mật khẩu',
    'auth.login.rememberMe': 'Ghi nhớ đăng nhập',
    'auth.login.forgotPassword': 'Quên mật khẩu?',
    'auth.login.button': 'Đăng nhập',
    'auth.login.register': 'Đăng ký',
    'auth.login.invalidCredentials': 'Email hoặc mật khẩu không đúng',
    'auth.login.emailRequired': 'Vui lòng nhập email',
    'auth.login.passwordRequired': 'Vui lòng nhập mật khẩu',

    // Profile Page
    'profile.title': 'Hồ sơ',
    'profile.personalInfo': 'Thông tin cá nhân',
    'profile.accountSettings': 'Cài đặt tài khoản',
    'profile.changePassword': 'Đổi mật khẩu',
    'profile.firstName': 'Tên',
    'profile.lastName': 'Họ',
    'profile.email': 'Email',
    'profile.role': 'Vai trò',
    'profile.phone': 'Số điện thoại',
    'profile.updateProfile': 'Cập nhật hồ sơ',
    'profile.save': 'Lưu',
    'profile.currentPassword': 'Mật khẩu hiện tại',
    'profile.newPassword': 'Mật khẩu mới',
    'profile.confirmPassword': 'Xác nhận mật khẩu',

    // Admin Page
    'admin.title': 'Bảng quản trị',
    'admin.users': 'Người dùng',
    'admin.settings': 'Cài đặt',
    'admin.permissions': 'Quyền',
    'admin.addUser': 'Thêm người dùng',
    'admin.editUser': 'Sửa người dùng',
    'admin.deleteUser': 'Xóa người dùng',
    'admin.resetPassword': 'Đặt lại mật khẩu',
    'admin.user.name': 'Tên',
    'admin.user.email': 'Email',
    'admin.user.role': 'Vai trò',
    'admin.user.status': 'Trạng thái',
    'admin.user.actions': 'Thao tác',
    'admin.role.admin': 'Quản trị viên',
    'admin.role.designer': 'Nhà thiết kế',
    'admin.role.viewer': 'Người xem',
    'admin.role.merchandiser': 'Merchandiser',
    'admin.role.factory': 'Nhà máy',

    // Validation messages
    'validation.required': 'Trường này là bắt buộc',
    'validation.invalidFormat': 'Định dạng không hợp lệ',
    'validation.minLength': 'Tối thiểu {min} ký tự',
    'validation.maxLength': 'Tối đa {max} ký tự',
    'validation.invalidEmail': 'Địa chỉ email không hợp lệ',
    'validation.passwordsNotMatch': 'Mật khẩu không khớp',
    'validation.articleCodeExists': 'Mã sản phẩm đã tồn tại. Vui lòng sử dụng mã khác.',
    'form.resetConfirm': 'Bạn có chắc chắn muốn đặt lại tất cả các trường? Hành động này không thể hoàn tác.',
    'form.requiredField': 'Một trường bắt buộc',
    'form.fieldRequiredInTab': 'Trường {field}, thuộc tab {tab} chưa được điền. Vui lòng điền đầy đủ thông tin.',

    // Success messages
    'success.saved': 'Lưu thành công',
    'success.created': 'Tạo thành công',
    'success.updated': 'Cập nhật thành công',
    'success.deleted': 'Xóa thành công',
    'success.uploaded': 'Tải lên thành công',
    'success.techPackCreated': 'Tạo tech pack thành công',
    'success.techPackUpdated': 'Cập nhật tech pack thành công',
    'success.techPackDeleted': 'Xóa tech pack thành công',

    // Error messages
    'error.network': 'Lỗi kết nối. Vui lòng thử lại.',
    'error.unauthorized': 'Chưa đăng nhập. Vui lòng đăng nhập.',
    'error.forbidden': 'Bạn không có quyền thực hiện hành động này',
    'error.notFound': 'Không tìm thấy tài nguyên',
    'error.serverError': 'Lỗi máy chủ. Vui lòng thử lại sau.',
    'error.loadFailed': 'Không thể tải dữ liệu',
    'error.saveFailed': 'Không thể lưu',
    'error.deleteFailed': 'Không thể xóa',
    'error.uploadFailed': 'Không thể tải file lên',
  }
};

interface I18nContextValue {
  lang: LanguageCode;
  setLang: (lang: LanguageCode) => void;
  t: (key: string, params?: Record<string, string | number>) => string;
}

const I18nContext = createContext<I18nContextValue | undefined>(undefined);

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [lang, setLangState] = useState<LanguageCode>('en');

  useEffect(() => {
    const saved = localStorage.getItem('lang') as LanguageCode | null;
    if (saved === 'en' || saved === 'vi') {
      setLangState(saved);
    }
  }, []);

  const setLang = (next: LanguageCode) => {
    setLangState(next);
    try { localStorage.setItem('lang', next); } catch {}
  };

  const t = useMemo(() => {
    return (key: string, params?: Record<string, string | number>) => {
      let text = translations[lang][key] ?? translations['en'][key] ?? key;
      if (params) {
        Object.entries(params).forEach(([paramKey, paramValue]) => {
          text = text.replace(new RegExp(`\\{${paramKey}\\}`, 'g'), String(paramValue));
        });
      }
      return text;
    };
  }, [lang]);

  const value = useMemo(() => ({ lang, setLang, t }), [lang, t]);

  return (
    <I18nContext.Provider value={value}>
      {children}
    </I18nContext.Provider>
  );
};

export const useI18n = () => {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useI18n must be used within I18nProvider');
  return ctx;
};


