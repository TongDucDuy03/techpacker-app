<div class="section-title"><%= strings.howToMeasureTitle %></div>

<% if (howToMeasure && howToMeasure.length) { %>
  <% howToMeasure.forEach((item) => { %>
    <div class="howto avoid-break">
      <% if (item.image) { %>
        <img src="<%= item.image %>" alt="<%= item.title %>" />
      <% } else { %>
        <div style="width:320px; max-width:45%; border:1px dashed #d1d5db; border-radius:4px; display:flex; align-items:center; justify-content:center; color:#9ca3af; font-size:9px;">
          No diagram available
        </div>
      <% } %>
      <div class="howto-content">
        <h3><%= item.title %></h3>
        <p style="margin-bottom:8px;"><%= item.description %></p>

        <% if (item.steps && item.steps.length) { %>
          <strong style="font-size:9px; text-transform:uppercase; display:block; margin-bottom:4px;"><%= strings.howToMeasureSteps %></strong>
          <ol style="margin-left:18px; margin-bottom:10px;">
            <% item.steps.forEach((step) => { %>
              <li><%= step %></li>
            <% }) %>
          </ol>
        <% } %>

        <% if (item.tips && item.tips.length) { %>
          <strong style="font-size:9px; color:#2563eb; display:block; margin-bottom:4px;"><%= strings.howToMeasureTips %></strong>
          <ul style="margin-left:16px; margin-bottom:10px; font-size:8px; color:#2563eb;">
            <% item.tips.forEach((tip) => { %>
              <li><%= tip %></li>
            <% }) %>
          </ul>
        <% } %>

        <% if (item.mistakes && item.mistakes.length) { %>
          <strong style="font-size:9px; color:#f97316; display:block; margin-bottom:4px;"><%= strings.howToMeasureWarnings %></strong>
          <ul style="margin-left:16px; margin-bottom:8px; font-size:8px; color:#f97316;">
            <% item.mistakes.forEach((mistake) => { %>
              <li><%= mistake %></li>
            <% }) %>
          </ul>
        <% } %>

        <% if (item.related && item.related.length) { %>
          <div class="text-muted" style="font-size:8px;">
            <strong><%= strings.howToMeasureRelated %></strong> <%= item.related.join(', ') %>
          </div>
        <% } %>
      </div>
    </div>
  <% }) %>
<% } else { %>
  <div style="padding:32px; text-align:center; color:#94a3b8;"><%= strings.emptyHowToMeasure %></div>
<% } %>
